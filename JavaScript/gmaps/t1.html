<!DOCTYPE html>
<html>
<head>
<title>gmaps.js demo</title>
<link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0-rc1/css/bootstrap.min.css" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//maps.google.com/maps/api/js?sensor=true"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.3/gmaps.min.js"></script>
<style>
#map1-container {
  box-shadow: 0 0 20px #999;
  border: 1px solid silver;
  padding: 10px;
  margin-bottom: 10px;
}
#map1 {
  height: 300px;
}
#input-place {
  width: 300px;
}
</style>
</head>
<body>
<div class="container">
  <div class="masthead">
    <h1 class="muted">gmaps.js</h1>
  </div>
  <div class="body-content">
    <h2>map1</h2>
    <div id="map1-container"><div id="map1" class="map"></div></div>
    <form class="form-inline">
      <input id="input-place" type="text" class="form-control" placeholder="Where do you want to go today?">
      <button type="button" class="btn btn-default" id="go">Go</button>
    </form>
  </div>
</div>
<script>
var m1 = new GMaps({
  div: '#map1',
  lat:  25.03324987122753,
  lng: 121.56464869612887,
  zoom: 17,
  dragend: function(e) {
    console.log(m1.getCenter());
  }
});
m1.addMarker({
  lat:  25.03325959222191,
  lng: 121.56471306914523,
  title: 'This is',
  infoWindow: {
   content: '<p>Taipei 101</p>'
  }
});
m1.drawOverlay({
  lat:  25.03325959222191,
  lng: 121.56471306914523,
  content: '<div class="overlay btn btn-default">Taipei 101</div>'
});
$(function () {
  $('#go').click(function (e) {
    var place = $('#input-place').val();
    GMaps.geocode({
      address: place,
      callback: function(results, status) {
        if (status == 'OK') {
          var latlng = results[0].geometry.location;
          m1.setCenter(latlng.lat(), latlng.lng());
          m1.addMarker({
            lat: latlng.lat(),
            lng: latlng.lng()
          });
        }
      }
    });
    e.preventDefault();
  });
});
</script>
</body>
</html>