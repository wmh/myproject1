<!DOCTYPE html">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Pragma" content="no-cache" />
<title>Checkbox</title>
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.1.1/build/cssreset/reset-min.css">
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.1.1/build/cssfonts/fonts-min.css">
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.1.1/build/cssbase/base-min.css">
<style>
.row {
    margin-bottom: 10px;
    font-size: 125%;
}
label {
    padding-right: 6px;
}
.miii-checkbox {
    background: url(http://www.dfc-e.com/sites/theme/jscripts/vendors/jqtransformplugin/img/checkbox.gif) no-repeat scroll center top transparent;
    width: 18px;
    height: 19px;
    text-indent: -9999px;
    position: absolute;
    overflow: hidden;
    top: -1px;
    left: -2px;
    *top: 0;
    *left: 0;
}
.miii-checkbox-checked {
    background-position:center bottom;
}
.row span {
    position: relative;
}
</style>
</head>

<body>

<div class="row"><label for="t1">This is a label</label><input type="checkbox" name="t1" id="t1"></div>
<div class="row"><label for="t2">This is a label</label><span><input type="checkbox" name="t2" id="t2"><a href="#" id="t2alt" class="miii-checkbox">X</a></span></div>


<script src="http://yui.yahooapis.com/3.1.1/build/yui/yui-min.js"></script>
<script type="text/javascript">
var YUIConfig = {
    filter: 'raw',
    debug : true
};
YUI(YUIConfig).use("node", "node-event-simulate", function (Y) {
    var handleChange = function (id) {
        var checked = Y.one("#" + id).get("checked");
        if (checked) {
            Y.one("#" + id + "alt").addClass("miii-checkbox-checked");
        } else {
            Y.one("#" + id + "alt").removeClass("miii-checkbox-checked");
        }
    };

    Y.one("#t2").on("click", function (e) {
        if (Y.UA.ie) {
            e.currentTarget.blur();
        }
    });
    Y.one("#t2").on("change", function (e) {
        handleChange(e.currentTarget.get("id"));
    });
    Y.one("#t2alt").on("click", function (e) {
        if (Y.UA.ie) {
            Y.one("#t2")._node.click();
            handleChange("t2");

        } else {
            Y.one("#t2").simulate("click");
        }
    });

    window.Y = Y;
});
</script>
</body>
</html>
